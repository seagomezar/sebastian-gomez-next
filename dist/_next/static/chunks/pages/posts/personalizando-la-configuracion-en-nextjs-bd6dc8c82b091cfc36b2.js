_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[38],{IxxZ:function(e,n,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/posts/personalizando-la-configuracion-en-nextjs",function(){return a("Yw6c")}])},Yw6c:function(e,n,a){"use strict";a.r(n),a.d(n,"default",(function(){return p}));var t=a("wx14"),r=a("Ff2n"),o=a("q1tI"),s=a.n(o),c=a("7ljp"),i=a("j53b"),l=a("6G3q"),u=a("37hk"),d=(s.a.createElement,{});function p(e){var n=e.components,a=Object(r.a)(e,["components"]);return Object(c.b)("wrapper",Object(t.a)({},d,a,{components:n,mdxType:"MDXLayout"}),Object(c.b)(l.a,{category:"Desarrollo Web",date:1613504637505,title:"Personalizando la configuraci\xf3n en Next.js",slug:"personalizando-la-configuracion-en-nextjs",thumbnailImage:"/nextjs.png",excerpt:"Next.js ofrece una facilidad enorme a la hora de modificar comportamientos del flujo de ejecuci\xf3n. Desde crear e inyectar variables de entorno hasta cambiar como Webpack trabaja con Next.js mediante plugins. En este post cubriremos los fundamentos de la configuraci\xf3n de Next.js",mdxType:"HeadSite"}),Object(c.b)("h1",null,"Personalizando la configuraci\xf3n en Next.js"),Object(c.b)(i.a,{tags:["Next.js","Javascript","NodeJS","Desarrollo Web"],date:1613504637505,slug:"personalizando-la-configuracion-en-nextjs",mdxType:"PostHeader"}),Object(c.b)("p",null,"Next.js ofrece una facilidad enorme a la hora de modificar comportamientos del flujo de ejecuci\xf3n.\nLo m\xe1s normal por ejemplo ser\xeda a\xf1adir variables de entorno a tu proyecto.\nEsto se puede hacer f\xe1cilmente modificando el archivo next.config.js para que exporte un objeto:\n(En caso de que no lo hayas creado lo puedes crear en la ra\xedz de tu sitio)."),Object(c.b)("pre",null,Object(c.b)("code",Object(t.a)({parentName:"pre"},{className:"language-js"}),'    module.exports = {\n    webpack: {\n      // Algo que tegnas que configurar en Webpack\n    },\n      env: {\n          MY_ENV_VAR: "HOLA",\n          OTHER_ENV_VAR: "NO PONGAS SECRETOS AQUI"\n      }\n    }\n')),Object(c.b)("p",null,"Tambi\xe9n podemos exportar el objeto de configuraci\xf3n mediante una funci\xf3n que nos permita\npor ejemplo insertar variables dependiendo del entorno:"),Object(c.b)("pre",null,Object(c.b)("code",Object(t.a)({parentName:"pre"},{className:"language-js"}),"// EXTRAEMOS LA FASE QUE NECESITEMOS\nconst { PHASE_DEVELOPMENT_SERVER } = require('next/constants')\nconst BundleAnalyzerPlugin = require('webpack-bundle-analyzer').BundleAnalyzerPlugin\n\nmodule.exports = (phase, { defaultConfig }) => {\n  if (phase === PHASE_DEVELOPMENT_SERVER) {\n    return {\n      ...defaultConfig,\n      env: {\n          // SOLO SERVIRA SI ESTAMOS EN MODOD DE DESARROLLO\n          IS_THIS_A_FUNCTION: \"TRUE\" \n      }\n    }\n  }\n\n  return defaultConfig\n} \n")),Object(c.b)("p",null,"Hay muchas constantes que trae Next.js que nos sirven para intervenir ciertas fases.\nLas concernientes a si es desarrollo, producci\xf3n o construcci\xf3n son:"),Object(c.b)("pre",null,Object(c.b)("code",Object(t.a)({parentName:"pre"},{className:"language-js"}),'export declare const PHASE_PRODUCTION_BUILD = "phase-production-build";\nexport declare const PHASE_PRODUCTION_SERVER = "phase-production-server";\nexport declare const PHASE_DEVELOPMENT_SERVER = "phase-development-server";\n')),Object(c.b)("p",null,"Podr\xedamos por ejemplo intervenir la fase de producci\xf3n para monitorear con un plugin de webpack\nel tama\xf1o del bundle y ver informaci\xf3n que sea valiosa al respecto:"),Object(c.b)("pre",null,Object(c.b)("code",Object(t.a)({parentName:"pre"},{className:"language-js"}),"const { PHASE_PRODUCTION_SERVER } = require('next/constants')\nconst BundleAnalyzerPlugin = require('webpack-bundle-analyzer').BundleAnalyzerPlugin\n\nmodule.exports = (phase, { defaultConfig }) => {\n  if (phase === PHASE_PRODUCTION_SERVER) {\n    return {\n      ...defaultConfig,\n      webpack: {\n        plugins: [new BundleAnalyzerPlugin()]\n      }\n    }\n  }\n\n  return defaultConfig\n} \n")),Object(c.b)("p",null,Object(c.b)("a",Object(t.a)({parentName:"p"},{href:"https://github.com/vercel/next.js/blob/canary/packages/next/next-server/lib/constants.ts#L1-L4"}),"Aqu\xed"),"\npuedes ver las diferentes fases que tiene Next.js y todas sus constantes."),Object(c.b)("p",null,"Incluso si te estas preguntando como extender la configuaraci\xf3n para que por ejemplo las p\xe1ginas no necesariamente\nsean Javascript sino que por ejemplo (como es el caso de este Blog) sean p\xe1ginas hechas en markdown (.MD) o mardown extendido (.MDX)\naqu\xed te la dejo:"),Object(c.b)("pre",null,Object(c.b)("code",Object(t.a)({parentName:"pre"},{className:"language-js"}),'const images = require("remark-images");\nconst emoji = require("remark-emoji");\n\nconst withMDX = require("@next/mdx")({\n  extension: /\\.mdx?$/,\n  options: {\n    remarkPlugins: [images, emoji]\n  }\n});\n\nmodule.exports = withMDX({\n  pageExtensions: ["js", "jsx", "md", "mdx"]\n});\n')),Object(c.b)("p",null,"Aunque en el siguiente post hablaremos m\xe1s sobre ",Object(c.b)("a",Object(t.a)({parentName:"p"},{href:"/posts/plugins-con-nextjs"}),"Plugins que\npuedes usar en Next.js"),"."),Object(c.b)("p",null,"Como puedes ver la configuraci\xf3n original de Next.js puede ser f\xe1cilemente modificada y puedes\nextender la funcionalidad tanto como puedas y quieras, no te sientas asustado de hacerlo\nya que \xe9sto ter permitir\xe1 sacarle mucho m\xe1s provecho a Next.js."),Object(c.b)("p",null,"Eso es todo, espero que este post te sea de utilidad y lo puedas aplicar a\nalg\xfan proyecto que tengas en mente o que simplemente te haya ayudado a entender\ncomo funciona modificarle la configuraci\xf3n a tus proyectos de Next.js."),Object(c.b)("p",null,"D\xe9jame un comentario si te sirvi\xf3, si quieres a\xf1adir\nalguna opini\xf3n o si tienes alguna duda no dudes en dejarme un comentario\nen la parte de abajo, recuerda que si te gust\xf3 tambi\xe9n puedes compartir usando los links a\nlas redes sociales en la parte de abajo."),Object(c.b)(u.a,{slug:"personalizando-la-configuracion-en-nextjs",mdxType:"Discuss"}))}p.isMDXComponent=!0},j53b:function(e,n,a){"use strict";var t=a("1OyB"),r=a("vuIU"),o=a("Ji7U"),s=a("md7G"),c=a("foSv"),i=a("MX0m"),l=a.n(i),u=a("q1tI"),d=a.n(u),p=(a("YFqc"),d.a.createElement);function b(e){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,t=Object(c.a)(e);if(n){var r=Object(c.a)(this).constructor;a=Reflect.construct(t,arguments,r)}else a=t.apply(this,arguments);return Object(s.a)(this,a)}}var m={CSS:"primary",HTML:"secondary",Javascript:"warning",Firebase:"warning","Google Maps":"darkgreen",Angular:"danger",React:"success","Desarrollo Web":"info","Google Datastudio":"primary","Big Query":"danger",NodeJS:"node",Other:"dark",Typescript:"typescript","Programaci\xf3n Reactiva":"reactive"},j=function(e){Object(o.a)(a,e);var n=b(a);function a(){return Object(t.a)(this,a),n.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props.name;return p("a",{className:"jsx-187945056 "+("badge badge-"+(m[e]||"dark")||!1)},e,p(l.a,{id:"187945056"},[".badge.jsx-187945056{-webkit-text-decoration:none;text-decoration:none;margin-right:1em;color:white;padding:0.5em 0.5em;margin:0.5em 0;display:inline-block;}",".badge-primary.jsx-187945056{background-color:blue;}",".badge-secondary.jsx-187945056{background-color:green;}",".badge-darkgreen.jsx-187945056{background-color:#3cba54;}",".badge-danger.jsx-187945056{background-color:red;}",".badge-warning.jsx-187945056{background-color:#e5be01;}",".badge-info.jsx-187945056{background-color:gray;}",".badge-dark.jsx-187945056{background-color:black;}",".badge-success.jsx-187945056{background-color:green;}",".badge-node.jsx-187945056{background-color:#11d92f;}",".badge-typescript.jsx-187945056{background-color:#4f8cf6;}",".badge-reactive.jsx-187945056{background-color:#e10c8c;}"]))}}]),a}(d.a.Component),g=d.a.createElement;function f(e){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,t=Object(c.a)(e);if(n){var r=Object(c.a)(this).constructor;a=Reflect.construct(t,arguments,r)}else a=t.apply(this,arguments);return Object(s.a)(this,a)}}var x=function(e){Object(o.a)(a,e);var n=f(a);function a(){return Object(t.a)(this,a),n.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,n=e.date,a=e.tags;e.slug;return g("small",{className:"jsx-1750184873 "},g("span",{className:"jsx-1750184873"},g("strong",{className:"jsx-1750184873"},"Fecha: "),new Date(n).toLocaleDateString("es-CO")," -",g("strong",{className:"jsx-1750184873"}," Autor: ")," Sebastian Gomez"),g("span",{className:"jsx-1750184873"}),g("span",{className:"jsx-1750184873"},a.map((function(e,n){return g(j,{name:e,key:n})}))),g(l.a,{id:"1750184873"},["a.jsx-1750184873{color:#9eabb3;-webkit-text-decoration:none;text-decoration:none;}","small.jsx-1750184873{color:#9eabb3;}","span.jsx-1750184873{display:block;}","span.jsx-1750184873:first-child{margin-top:0.2em;}","span.jsx-1750184873:last-child{margin-bottom:1em;}"]))}}]),a}(d.a.Component);n.a=x}},[["IxxZ",0,1,2,3,4,5]]]);